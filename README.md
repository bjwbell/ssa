Extracted from https://github.com/golang/go/blob/dev.ssa/src/cmd/compile/internal/ssa.

The necessary parts of `obj` and `obj/x86` are at https://github.com/bjwbell/obj.
